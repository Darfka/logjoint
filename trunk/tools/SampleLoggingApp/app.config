<?xml version="1.0"?>
<configuration>

    <configSections>
      <section name="log4net" type="System.Configuration.IgnoreSectionHandler" />
    </configSections>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/>
  </startup>

  <log4net>
      <appender name="XMLAppender" type="log4net.Appender.PatternFileAppender">
        <file value="log4j.xml" />
        <layout type="log4net.Layout.XmlLayoutSchemaLog4j"/>
      </appender>

      <appender name="PatternAppender" type="log4net.Appender.PatternFileAppender">
        <file value="output.log" />
        <layout type="log4net.Layout.PatternLayout" value='%d [%thread] %-5p %c [%x] - %m %n' />
      </appender>

      <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
        <file value="FileSizeRolling\log.txt" />
        <maxSizeRollBackups value="10" />
        <maximumFileSize value="4000" />
        <rollingStyle value="Size" />
        <datePattern value="yyyyMMdd-HHmm" />
        <staticLogFileName value="true" />
        <layout type="log4net.Layout.PatternLayout">
          <header value="[Header]&#13;&#10;" />
          <footer value="[Footer]&#13;&#10;" />
          <conversionPattern value="%date [%thread] %-5level %logger [%ndc] - %message%newline" />
        </layout>
      </appender>

      <root>
        <level value="ALL" />
        <!--<appender-ref ref="PatternAppender" />
			<appender-ref ref="XMLAppender" />-->
        <appender-ref ref="RollingLogFileAppender" />
      </root>

    </log4net>

    <system.diagnostics>
      <sources>
        <source name="SampleApp" switchName="sourceSwitch" switchType="System.Diagnostics.SourceSwitch">
          <listeners>
            <add name="Shared listener" type="System.Diagnostics.TextWriterTraceListener" initializeData="debug.log"
              traceOutputOptions="DateTime, ProcessId, ThreadId">
            </add>
            <add name="XmlWriterTraceListener" type="System.Diagnostics.XmlWriterTraceListener" initializeData="XmlWriterTraceListener.debug.xml">
            </add>   
            <add name="log4net" type="SampleLoggingApp.Log4NetListener, SampleLoggingApp"/>
            <add name="debugOutput" type="System.Diagnostics.DefaultTraceListener"/>
          </listeners>
        </source>
      </sources>
      <switches>
        <add name="sourceSwitch" value="All"/>
      </switches>
      <trace autoflush="true" indentsize="2"/>
    </system.diagnostics>

</configuration>
